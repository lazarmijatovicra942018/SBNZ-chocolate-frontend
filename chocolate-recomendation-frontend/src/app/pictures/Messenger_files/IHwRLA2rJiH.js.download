;/*FB_PKG_DELIM*/

__d("LSCollapseAttachments",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.islc(b.sb(b.db.table(16).fetch([[[a[0],a[1]]],"idx_attachments_collapsible_id"]),[["timestampMs","DESC"]]),0,b.i64.to_float(b.i64.cast([0,1]))).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.seq([function(d){return c[0]=e.messageId,b.fe(b.db.table(16).fetch([[[a[0],a[1],{lt:c[0]}],[a[0],a[1],{gt:c[0]}]],"idx_attachments_collapsible_id"]),function(a){var c=a.item;return b.fe(b.ftr(b.db.table(12).fetch([[[c.threadKey,c.timestampMs,c.messageId]]]),function(a){return b.i64.eq(a.threadKey,c.threadKey)&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(a.timestampMs,c.timestampMs)&&a.messageId===c.messageId}),function(a){var b=a.update;a.item;return b({isCollapsed:!0})})})},function(a){return b.fe(b.ftr(b.db.table(12).fetch([[[e.threadKey,e.timestampMs,c[0]]]]),function(a){return b.i64.eq(a.threadKey,e.threadKey)&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(a.timestampMs,e.timestampMs)&&a.messageId===c[0]}),function(a){var b=a.update;a.item;return b({isCollapsed:!1})})}]))})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSDeleteRollCall",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(250).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSDeleteThenInsertMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(12).fetch([[[a[9]]],"optimistic"]).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(12).add({threadKey:a[3],timestampMs:a[5],messageId:a[8],offlineThreadingId:a[9],authorityLevel:a[2],primarySortKey:a[6],senderId:a[10],isAdminMessage:a[12],sendStatus:a[14],sendStatusV2:a[15],text:a[0],subscriptErrorMessage:a[1],secondarySortKey:a[7],stickerId:a[11],isUnsent:a[16],unsentTimestampMs:a[17],mentionOffsets:a[18],mentionLengths:a[19],mentionIds:a[20],mentionTypes:a[21],replySourceId:a[22],replySourceType:a[23],replySourceTypeV2:a[24],replyStatus:a[25],replySnippet:a[26],replyMessageText:a[27],replyToUserId:a[28],replyMediaExpirationTimestampMs:a[29],replyMediaUrl:a[30],replyMediaPreviewWidth:a[32],replyMediaPreviewHeight:a[33],replyMediaUrlMimeType:a[34],replyMediaUrlFallback:a[35],replyCtaId:a[36],replyCtaTitle:a[37],replyAttachmentType:a[38],replyAttachmentId:a[39],replyAttachmentExtra:a[40],isForwarded:a[41],forwardScore:a[42],hasQuickReplies:a[43],adminMsgCtaId:a[44],adminMsgCtaTitle:a[45],adminMsgCtaType:a[46],cannotUnsendReason:a[47],textHasLinks:a[48],viewFlags:a[49],displayedContentTypes:a[50],viewedPluginKey:a[51],viewedPluginContext:a[52],quickReplyType:a[53],hotEmojiSize:a[54],replySourceTimestampMs:a[55],ephemeralDurationInSec:a[56],msUntilExpirationTs:a[57],ephemeralExpirationTs:a[58],takedownState:a[59],isCollapsed:a[60]}):(d=c.item,b.i64.le(d.authorityLevel,a[2])?b.db.table(12).put({threadKey:a[3],timestampMs:a[5],messageId:a[8],offlineThreadingId:a[9],authorityLevel:a[2],primarySortKey:d.primarySortKey,senderId:a[10],isAdminMessage:a[12],sendStatus:a[14],sendStatusV2:a[15],text:a[0],subscriptErrorMessage:a[1],secondarySortKey:d.secondarySortKey,stickerId:a[11],isUnsent:a[16],unsentTimestampMs:a[17],mentionOffsets:a[18],mentionLengths:a[19],mentionIds:a[20],mentionTypes:a[21],replySourceId:a[22],replySourceType:a[23],replySourceTypeV2:a[24],replyStatus:a[25],replySnippet:a[26],replyMessageText:a[27],replyToUserId:a[28],replyMediaExpirationTimestampMs:a[29],replyMediaUrl:a[30],replyMediaPreviewWidth:a[32],replyMediaPreviewHeight:a[33],replyMediaUrlMimeType:a[34],replyMediaUrlFallback:a[35],replyCtaId:a[36],replyCtaTitle:a[37],replyAttachmentType:a[38],replyAttachmentId:a[39],replyAttachmentExtra:a[40],isForwarded:a[41],forwardScore:a[42],hasQuickReplies:a[43],adminMsgCtaId:a[44],adminMsgCtaTitle:a[45],adminMsgCtaType:a[46],cannotUnsendReason:a[47],textHasLinks:a[48],viewFlags:a[49],displayedContentTypes:a[50],viewedPluginKey:a[51],viewedPluginContext:a[52],quickReplyType:a[53],hotEmojiSize:a[54],replySourceTimestampMs:a[55],ephemeralDurationInSec:a[56],msUntilExpirationTs:a[57],ephemeralExpirationTs:a[58],takedownState:a[59],isCollapsed:a[60]}):b.resolve())})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSHandleRepliesOnUnsend",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return d[0]=c.createArray(),c.fe(c.ftr(c.db.table(12).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.replySourceId===a[1]}),function(a){a=a.item;return d[2]=(d[0].push(a.messageId),d[0])})},function(e){return d[1]=c.i64.of_int32(d[0].length),(c.i64.eq(d[1],c.i64.cast([0,0]))?!0:!1)?c.resolve():(d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("message_id",a[1]),d[2].set("reply_message_ids",d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"update_replies_on_unsend",c.i64.cast([0,74]),d[3],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0])))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateRecentXMAForRollCallMessageDeleted",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.islc(c.sb(c.ftr(c.db.table(255).fetch(),function(b){return c.i64.eq(b.rollCallId,a[0])&&a[1]!==b.messageId}),[["messageTimestampMs","DESC"]]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var g=a.done;a=a.value;return g?0:(e=a.item,c.seq([function(a){return d[5]=e.threadKey,c.db.table(9).fetch([[[d[5]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[0]=c.i64.cast([0,1]):(e=b.item,d[7]=e.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[0]=d[6])})},function(a){return d[2]=new c.Map(),d[2].set("message_id",e.messageId),d[2].set("thread_key",d[5]),d[2].set("sync_group",d[0]),d[3]=d[2].get("thread_key"),d[2],d[4]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,19]),d[4],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}]))})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateRollCall",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(250).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({viewerHasContributed:a[1],isBlurred:a[2]})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSUpdateForRollCallMessageDeleted",["LSDeleteRollCall","LSDeleteRollCallContribution","LSGetViewerFBID","LSUpdateRecentXMAForRollCallMessageDeleted","LSUpdateRollCall"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.ftr(c.db.table(255).fetch(),function(b){return b.messageId===a[0]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f,f,f],d[0]=c[0],d[1]=c[1],d[2]=c[2],c):(b=a.item,c=[b.rollCallId,b.messageTimestampMs,b.rollCallContributionId],d[0]=c[0],d[1]=c[1],d[2]=c[2],c)})},function(a){return c.ct(c.ftr(c.db.table(255).fetch(),function(a){return c.i64.eq(d[0],a.rollCallId)})).then(function(a){return d[4]=a})},function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[5]=a[0],a})},function(b){return c.ftr(c.db.table(255).fetch(),function(b){return c.i64.eq(d[0],b.rollCallId)&&a[0]!==b.messageId&&c.i64.eq(d[5],b.contributorId)}).next().then(function(a,b){b=a.done;a=a.value;return b?d[6]=!1:(a.item,d[6]=!0)})},function(e){return c.i64.neq(d[0],f)?c.i64.le(d[4],c.i64.cast([0,1]))?c.sp(b("LSDeleteRollCall"),d[0],a[1]):c.seq([function(e){return c.sp(b("LSUpdateRecentXMAForRollCallMessageDeleted"),d[0],a[0])},function(a){return c.sp(b("LSUpdateRollCall"),d[0],d[6],!d[6])},function(e){return c.i64.neq(d[1],f)?c.i64.neq(d[2],f)?c.sp(b("LSDeleteRollCallContribution"),d[2],d[0],a[0],d[1],a[1]):c.resolve():c.resolve()}]):c.resolve()}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateThreadSnippetFromLastMessageV2",["LSGetThreadParticipantDisplayName","LSGetViewerFBID","LSUpdateThreadSnippet"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.db.table(12).fetchDesc([[[a[0]]]]).next().then(function(e,g){var h=e.done;e=e.value;return h?0:(g=e.item,c.seq([function(a){return d[5]=g.text,d[4]=g.threadKey,d[7]=c.i64.cast([0,0]),d[8]=g.messageId,d[3]=g.senderId,d[6]=g.stickerId,d[2]=g.isAdminMessage,d[0]=!0,d[2]||!d[0]?c.resolve(d[1]=d[5]==null?"":d[5]):c.seq([function(a){return g.isUnsent?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[10]=a[0],a})},function(a){return c.i64.eq(d[10],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2375715979]),f).then(function(a){return d[15]=a})},function(a){return d[11]=d[15]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[15]=a[0],a})},function(a){return d[16]=c.createArray(),d[18]=(d[16].push(d[15]),d[16]),c.localizeV2Async(c.i64.cast([0,3810165735]),d[16]).then(function(a){return d[17]=a})},function(a){return d[11]=d[17]}])},function(a){return c.db.table(9).fetch([[[d[4]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[12]=!1:(e=b.item,d[12]=[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18])].some(function(a){return c.i64.eq(e.threadType,a)}))})},function(a){return d[12]?c.seq([function(a){return c.ftr(c.db.table(16).fetch([[[d[4],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),d[7])&&a.messageId===d[8]}).next().then(function(b,e){var a=b.done;b=b.value;return a?(a=[c.i64.cast([0,0]),f,f,f],d[15]=a[0],d[16]=a[1],d[17]=a[2],d[18]=a[3],a):(e=b.item,a=[e.attachmentType,e.attributionAppName,e.defaultCtaType,e.descriptionText],d[15]=a[0],d[16]=a[1],d[17]=a[2],d[18]=a[3],a)})},function(a){return d[18]!==f?d[20]=d[18]:d[20]=d[11],d[14]=d[20]}]):c.resolve(d[14]=d[11])},function(a){return d[9]=d[14]}]):c.seq([function(a){return c.i64.eq(g.replyType,c.i64.cast([0,1]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[11]=a[0],a})},function(a){return c.i64.eq(d[11],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,1899892426]),f).then(function(a){return d[13]=a})},function(a){return d[12]=d[13]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[13]=a[0],a})},function(a){return d[14]=c.createArray(),d[16]=(d[14].push(d[13]),d[14]),c.localizeV2Async(c.i64.cast([0,3287869262]),d[14]).then(function(a){return d[15]=a})},function(a){return d[12]=d[15]}])},function(a){return d[10]=d[12]}]):c.seq([function(a){return d[5]!==f&&d[5]!==""?c.seq([function(a){return d[14]=d[5]==null?"":d[5],c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[12]=a[0],a})},function(a){return c.i64.eq(d[12],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,1890485478]),f).then(function(a){return d[15]=a})},function(a){return d[13]=[d[15],": ",d[14]].join("")}]):c.seq([function(a){return c.db.table(9).fetch([[[d[4]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[15]=!1:(e=b.item,d[15]=c.i64.eq(e.threadType,c.i64.cast([0,2])))})},function(a){return d[15]?c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[18]=a[0],a})},function(a){return d[17]=[d[18],": ",d[14]].join("")}]):c.resolve(d[17]=d[14])},function(a){return d[13]=d[17]}])},function(a){return d[11]=d[13]}]):c.seq([function(a){return c.i64.neq(d[6],f)&&[c.i64.cast([53057,267535043]),c.i64.cast([85970,924785702]),c.i64.cast([85970,1004785694]),c.i64.cast([85970,1044785690])].some(function(a){return c.i64.eq(d[6],a)})?c.seq([function(a){return d[15]="\udb80\udc00",c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[13]=a[0],a})},function(a){return c.i64.eq(d[13],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,1890485478]),f).then(function(a){return d[16]=a})},function(a){return d[14]=[d[16],": ",d[15]].join("")}]):c.seq([function(a){return c.db.table(9).fetch([[[d[4]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[16]=!1:(e=b.item,d[16]=c.i64.eq(e.threadType,c.i64.cast([0,2])))})},function(a){return d[16]?c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[18]=[d[19],": ",d[15]].join("")}]):c.resolve(d[18]=d[15])},function(a){return d[14]=d[18]}])},function(a){return d[12]=d[14]}]):c.seq([function(a){return c.i64.neq(d[6],f)?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[14]=a[0],a})},function(a){return c.i64.eq(d[14],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,1299547062]),f).then(function(a){return d[16]=a})},function(a){return d[15]=d[16]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[17]=c.createArray(),d[19]=(d[17].push(d[16]),d[17]),c.localizeV2Async(c.i64.cast([0,3621454483]),d[17]).then(function(a){return d[18]=a})},function(a){return d[15]=d[18]}])},function(a){return d[13]=d[15]}]):c.seq([function(a){return c.ct(c.ftr(c.db.table(16).fetch([[[d[4],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),d[7])&&a.messageId===d[8]})).then(function(a){return d[14]=a})},function(a){return c.i64.eq(d[14],c.i64.cast([0,0]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return c.i64.eq(d[16],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),f).then(function(a){return d[18]=a})},function(a){return d[17]=d[18]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[18]=a[0],a})},function(a){return d[19]=c.createArray(),d[21]=(d[19].push(d[18]),d[19]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[19]).then(function(a){return d[20]=a})},function(a){return d[17]=d[20]}])},function(a){return d[15]=d[17]}]):c.seq([function(a){return c.i64.eq(d[14],c.i64.cast([0,1]))?c.seq([function(a){return c.ftr(c.db.table(16).fetch([[[d[4],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),d[7])&&a.messageId===d[8]}).next().then(function(b,e){var a=b.done;b=b.value;return a?(a=[c.i64.cast([0,0]),f,f,f],d[17]=a[0],d[18]=a[1],d[19]=a[2],d[20]=a[3],a):(e=b.item,a=[e.attachmentType,e.attributionAppName,e.defaultCtaType,e.descriptionText],d[17]=a[0],d[18]=a[1],d[19]=a[2],d[20]=a[3],a)})},function(a){return d[22]=f,c.i64.eq(d[17],c.i64.cast([0,1]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[27]=a[0],a})},function(a){return c.i64.eq(d[27],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,1299547062]),f).then(function(a){return d[29]=a})},function(a){return d[28]=d[29]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[30]=c.createArray(),d[32]=(d[30].push(d[29]),d[30]),c.localizeV2Async(c.i64.cast([0,3621454483]),d[30]).then(function(a){return d[31]=a})},function(a){return d[28]=d[31]}])},function(a){return d[22]=d[28]}]):c.resolve()},function(a){return d[22]===f&&(c.i64.eq(d[17],c.i64.cast([0,2]))||c.i64.eq(d[17],c.i64.cast([0,8])))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[27]=a[0],a})},function(a){return c.i64.eq(d[27],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2106510577]),f).then(function(a){return d[29]=a})},function(a){return d[28]=d[29]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[30]=c.createArray(),d[32]=(d[30].push(d[29]),d[30]),c.localizeV2Async(c.i64.cast([0,3960370133]),d[30]).then(function(a){return d[31]=a})},function(a){return d[28]=d[31]}])},function(a){return d[22]=d[28]}]):c.resolve()},function(a){return d[22]===f&&c.i64.eq(d[17],c.i64.cast([0,3]))?c.seq([function(a){return d[18]!==f?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[28]=a[0],a})},function(a){return c.i64.eq(d[28],d[3])?c.seq([function(a){return d[30]=c.createArray(),d[32]=(d[30].push(d[18]),d[30]),c.localizeV2Async(c.i64.cast([0,3798396796]),d[30]).then(function(a){return d[31]=a})},function(a){return d[29]=d[31]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[30]=a[0],a})},function(a){return d[31]=c.createArray(),d[33]=(d[31].push(d[30]),d[31]),d[33]=(d[31].push(d[18]),d[31]),c.localizeV2Async(c.i64.cast([0,3388601579]),d[31]).then(function(a){return d[32]=a})},function(a){return d[29]=d[32]}])},function(a){return d[27]=d[29]}]):c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[28]=a[0],a})},function(a){return c.i64.eq(d[28],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,1556712457]),f).then(function(a){return d[30]=a})},function(a){return d[29]=d[30]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[30]=a[0],a})},function(a){return d[31]=c.createArray(),d[33]=(d[31].push(d[30]),d[31]),c.localizeV2Async(c.i64.cast([0,3601791933]),d[31]).then(function(a){return d[32]=a})},function(a){return d[29]=d[32]}])},function(a){return d[27]=d[29]}])},function(a){return d[22]=d[27]}]):c.resolve()},function(a){return d[22]===f&&(c.i64.eq(d[17],c.i64.cast([0,4]))||c.i64.eq(d[17],c.i64.cast([0,9])))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[27]=a[0],a})},function(a){return c.i64.eq(d[27],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,3759817031]),f).then(function(a){return d[29]=a})},function(a){return d[28]=d[29]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[30]=c.createArray(),d[32]=(d[30].push(d[29]),d[30]),c.localizeV2Async(c.i64.cast([0,2934729541]),d[30]).then(function(a){return d[31]=a})},function(a){return d[28]=d[31]}])},function(a){return d[22]=d[28]}]):c.resolve()},function(a){return d[22]===f&&c.i64.eq(d[17],c.i64.cast([0,5]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[27]=a[0],a})},function(a){return c.i64.eq(d[27],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,392493418]),f).then(function(a){return d[29]=a})},function(a){return d[28]=d[29]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[30]=c.createArray(),d[32]=(d[30].push(d[29]),d[30]),c.localizeV2Async(c.i64.cast([0,4085467454]),d[30]).then(function(a){return d[31]=a})},function(a){return d[28]=d[31]}])},function(a){return d[22]=d[28]}]):c.resolve()},function(a){return d[22]===f&&c.i64.eq(d[17],c.i64.cast([0,10]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[27]=a[0],a})},function(a){return c.i64.eq(d[27],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2738683656]),f).then(function(a){return d[29]=a})},function(a){return d[28]=d[29]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[30]=c.createArray(),d[32]=(d[30].push(d[29]),d[30]),c.localizeV2Async(c.i64.cast([0,2996525642]),d[30]).then(function(a){return d[31]=a})},function(a){return d[28]=d[31]}])},function(a){return d[22]=d[28]}]):c.resolve()},function(a){return d[19]==="xma_live_location_sharing"?d[23]=c.i64.cast([0,5e3]):d[23]=f,c.i64.neq(d[23],f)?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[27]=a[0],a})},function(a){return c.i64.eq(d[23],c.i64.cast([-1,4294967295]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.i64.eq(d[29],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),f).then(function(a){return d[31]=a})},function(a){return d[30]=d[31]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[31]),d[32]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[32]).then(function(a){return d[33]=a})},function(a){return d[30]=d[33]}])},function(a){return d[28]=d[30]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,0]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[30]=a[0],a})},function(a){return c.i64.eq(d[30],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),f).then(function(a){return d[32]=a})},function(a){return d[31]=d[32]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[33]=c.createArray(),d[35]=(d[33].push(d[32]),d[33]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[33]).then(function(a){return d[34]=a})},function(a){return d[31]=d[34]}])},function(a){return d[29]=d[31]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,1e3]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.i64.eq(d[31],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2326868239]),f).then(function(a){return d[33]=a})},function(a){return d[32]=d[33]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[34]=c.createArray(),d[36]=(d[34].push(d[33]),d[34]),c.localizeV2Async(c.i64.cast([0,1001986796]),d[34]).then(function(a){return d[35]=a})},function(a){return d[32]=d[35]}])},function(a){return d[30]=d[32]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,1001]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.i64.eq(d[32],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2326868239]),f).then(function(a){return d[34]=a})},function(a){return d[33]=d[34]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=c.createArray(),d[37]=(d[35].push(d[34]),d[35]),c.localizeV2Async(c.i64.cast([0,1001986796]),d[35]).then(function(a){return d[36]=a})},function(a){return d[33]=d[36]}])},function(a){return d[31]=d[33]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,1002]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.i64.eq(d[33],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2285746939]),f).then(function(a){return d[35]=a})},function(a){return d[34]=d[35]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[36]=c.createArray(),d[38]=(d[36].push(d[35]),d[36]),c.localizeV2Async(c.i64.cast([0,3759448420]),d[36]).then(function(a){return d[37]=a})},function(a){return d[34]=d[37]}])},function(a){return d[32]=d[34]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,1003]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[34]=a[0],a})},function(a){return c.i64.eq(d[34],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,3719716921]),f).then(function(a){return d[36]=a})},function(a){return d[35]=d[36]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[37]=c.createArray(),d[39]=(d[37].push(d[36]),d[37]),c.localizeV2Async(c.i64.cast([0,284944921]),d[37]).then(function(a){return d[38]=a})},function(a){return d[35]=d[38]}])},function(a){return d[33]=d[35]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,1004]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.i64.eq(d[35],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),f).then(function(a){return d[37]=a})},function(a){return d[38]=c.createArray(),d[40]=(d[38].push(d[37]),d[38]),c.localizeV2Async(c.i64.cast([0,3322002377]),d[38]).then(function(a){return d[39]=a})},function(a){return d[36]=d[39]}]):c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2486550278]),f).then(function(a){return d[37]=a})},function(a){return d[36]=d[37]}])},function(a){return d[34]=d[36]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,1005]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[36]=a[0],a})},function(a){return c.i64.eq(d[36],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,3557790945]),f).then(function(a){return d[38]=a})},function(a){return d[37]=d[38]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[39]=c.createArray(),d[41]=(d[39].push(d[38]),d[39]),c.localizeV2Async(c.i64.cast([0,3756846086]),d[39]).then(function(a){return d[40]=a})},function(a){return d[37]=d[40]}])},function(a){return d[35]=d[37]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,1006]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.i64.eq(d[37],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2326868239]),f).then(function(a){return d[39]=a})},function(a){return d[38]=d[39]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return d[40]=c.createArray(),d[42]=(d[40].push(d[39]),d[40]),c.localizeV2Async(c.i64.cast([0,1001986796]),d[40]).then(function(a){return d[41]=a})},function(a){return d[38]=d[41]}])},function(a){return d[36]=d[38]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,1007]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[38]=a[0],a})},function(a){return c.i64.eq(d[38],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,3719716921]),f).then(function(a){return d[40]=a})},function(a){return d[39]=d[40]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return d[41]=c.createArray(),d[43]=(d[41].push(d[40]),d[41]),c.localizeV2Async(c.i64.cast([0,284944921]),d[41]).then(function(a){return d[42]=a})},function(a){return d[39]=d[42]}])},function(a){return d[37]=d[39]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,1008]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.i64.eq(d[39],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),f).then(function(a){return d[41]=a})},function(a){return d[40]=d[41]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return d[42]=c.createArray(),d[44]=(d[42].push(d[41]),d[42]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[42]).then(function(a){return d[43]=a})},function(a){return d[40]=d[43]}])},function(a){return d[38]=d[40]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,1009]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.i64.eq(d[40],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,780378803]),f).then(function(a){return d[42]=a})},function(a){return d[41]=d[42]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[43]=c.createArray(),d[45]=(d[43].push(d[42]),d[43]),c.localizeV2Async(c.i64.cast([0,3918212613]),d[43]).then(function(a){return d[44]=a})},function(a){return d[41]=d[44]}])},function(a){return d[39]=d[41]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,1010]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.i64.eq(d[41],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,3161890215]),f).then(function(a){return d[43]=a})},function(a){return d[42]=d[43]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[44]=c.createArray(),d[46]=(d[44].push(d[43]),d[44]),c.localizeV2Async(c.i64.cast([0,863428456]),d[44]).then(function(a){return d[45]=a})},function(a){return d[42]=d[45]}])},function(a){return d[40]=d[42]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,1011]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.i64.eq(d[42],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2716405471]),f).then(function(a){return d[44]=a})},function(a){return d[43]=d[44]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[45]=c.createArray(),d[47]=(d[45].push(d[44]),d[45]),c.localizeV2Async(c.i64.cast([0,3909474073]),d[45]).then(function(a){return d[46]=a})},function(a){return d[43]=d[46]}])},function(a){return d[41]=d[43]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,1012]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.i64.eq(d[43],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,1522141193]),f).then(function(a){return d[45]=a})},function(a){return d[44]=d[45]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[46]=c.createArray(),d[48]=(d[46].push(d[45]),d[46]),c.localizeV2Async(c.i64.cast([0,2804766375]),d[46]).then(function(a){return d[47]=a})},function(a){return d[44]=d[47]}])},function(a){return d[42]=d[44]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,1013]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.i64.eq(d[44],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,1522141193]),f).then(function(a){return d[46]=a})},function(a){return d[45]=d[46]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[47]=c.createArray(),d[49]=(d[47].push(d[46]),d[47]),c.localizeV2Async(c.i64.cast([0,2804766375]),d[47]).then(function(a){return d[48]=a})},function(a){return d[45]=d[48]}])},function(a){return d[43]=d[45]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,1014]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.i64.eq(d[45],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),f).then(function(a){return d[47]=a})},function(a){return d[48]=c.createArray(),d[50]=(d[48].push(d[47]),d[48]),c.localizeV2Async(c.i64.cast([0,3322002377]),d[48]).then(function(a){return d[49]=a})},function(a){return d[46]=d[49]}]):c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2486550278]),f).then(function(a){return d[47]=a})},function(a){return d[46]=d[47]}])},function(a){return d[44]=d[46]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,2e3]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.i64.eq(d[46],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),f).then(function(a){return d[48]=a})},function(a){return d[47]=d[48]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return d[49]=c.createArray(),d[51]=(d[49].push(d[48]),d[49]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[49]).then(function(a){return d[50]=a})},function(a){return d[47]=d[50]}])},function(a){return d[45]=d[47]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,2001]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[47]=a[0],a})},function(a){return c.i64.eq(d[47],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2285746939]),f).then(function(a){return d[49]=a})},function(a){return d[48]=d[49]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return d[50]=c.createArray(),d[52]=(d[50].push(d[49]),d[50]),c.localizeV2Async(c.i64.cast([0,3759448420]),d[50]).then(function(a){return d[51]=a})},function(a){return d[48]=d[51]}])},function(a){return d[46]=d[48]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,2002]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.i64.eq(d[48],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,3719716921]),f).then(function(a){return d[50]=a})},function(a){return d[49]=d[50]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return d[51]=c.createArray(),d[53]=(d[51].push(d[50]),d[51]),c.localizeV2Async(c.i64.cast([0,284944921]),d[51]).then(function(a){return d[52]=a})},function(a){return d[49]=d[52]}])},function(a){return d[47]=d[49]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,2003]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.i64.eq(d[49],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),f).then(function(a){return d[51]=a})},function(a){return d[50]=d[51]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return d[52]=c.createArray(),d[54]=(d[52].push(d[51]),d[52]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[52]).then(function(a){return d[53]=a})},function(a){return d[50]=d[53]}])},function(a){return d[48]=d[50]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,2004]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.i64.eq(d[50],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2326868239]),f).then(function(a){return d[52]=a})},function(a){return d[51]=d[52]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return d[53]=c.createArray(),d[55]=(d[53].push(d[52]),d[53]),c.localizeV2Async(c.i64.cast([0,1001986796]),d[53]).then(function(a){return d[54]=a})},function(a){return d[51]=d[54]}])},function(a){return d[49]=d[51]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,2005]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[51]=a[0],a})},function(a){return c.i64.eq(d[51],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,772459202]),f).then(function(a){return d[53]=a})},function(a){return d[52]=d[53]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[54]=c.createArray(),d[56]=(d[54].push(d[53]),d[54]),c.localizeV2Async(c.i64.cast([0,3546068912]),d[54]).then(function(a){return d[55]=a})},function(a){return d[52]=d[55]}])},function(a){return d[50]=d[52]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,2006]))?c.seq([function(a){return c.i64.eq(d[27],d[3])?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.i64.eq(d[53],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2459540079]),f).then(function(a){return d[55]=a})},function(a){return d[54]=d[55]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return d[56]=c.createArray(),d[58]=(d[56].push(d[55]),d[56]),c.localizeV2Async(c.i64.cast([0,1596311291]),d[56]).then(function(a){return d[57]=a})},function(a){return d[54]=d[57]}])},function(a){return d[52]=d[54]}]):c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.i64.eq(d[53],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2253698324]),f).then(function(a){return d[55]=a})},function(a){return d[54]=d[55]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return d[56]=c.createArray(),d[58]=(d[56].push(d[55]),d[56]),c.localizeV2Async(c.i64.cast([0,4269602817]),d[56]).then(function(a){return d[57]=a})},function(a){return d[54]=d[57]}])},function(a){return d[52]=d[54]}])},function(a){return d[51]=d[52]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,2007]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.i64.eq(d[53],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),f).then(function(a){return d[55]=a})},function(a){return d[54]=d[55]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return d[56]=c.createArray(),d[58]=(d[56].push(d[55]),d[56]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[56]).then(function(a){return d[57]=a})},function(a){return d[54]=d[57]}])},function(a){return d[52]=d[54]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,3e3]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.i64.eq(d[54],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),f).then(function(a){return d[56]=a})},function(a){return d[55]=d[56]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return d[57]=c.createArray(),d[59]=(d[57].push(d[56]),d[57]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[57]).then(function(a){return d[58]=a})},function(a){return d[55]=d[58]}])},function(a){return d[53]=d[55]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,3001]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.i64.eq(d[55],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),f).then(function(a){return d[57]=a})},function(a){return d[56]=d[57]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return d[58]=c.createArray(),d[60]=(d[58].push(d[57]),d[58]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[58]).then(function(a){return d[59]=a})},function(a){return d[56]=d[59]}])},function(a){return d[54]=d[56]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,3002]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.i64.eq(d[56],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2973334239]),f).then(function(a){return d[58]=a})},function(a){return d[57]=d[58]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[58]=a[0],a})},function(a){return d[59]=c.createArray(),d[61]=(d[59].push(d[58]),d[59]),c.localizeV2Async(c.i64.cast([0,3616471048]),d[59]).then(function(a){return d[60]=a})},function(a){return d[57]=d[60]}])},function(a){return d[55]=d[57]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,3003]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[57]=a[0],a})},function(a){return c.i64.eq(d[57],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2973334239]),f).then(function(a){return d[59]=a})},function(a){return d[58]=d[59]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[59]=a[0],a})},function(a){return d[60]=c.createArray(),d[62]=(d[60].push(d[59]),d[60]),c.localizeV2Async(c.i64.cast([0,3616471048]),d[60]).then(function(a){return d[61]=a})},function(a){return d[58]=d[61]}])},function(a){return d[56]=d[58]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,4e3]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[58]=a[0],a})},function(a){return c.i64.eq(d[58],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),f).then(function(a){return d[62]=a})},function(a){return d[59]=d[62]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[62]=a[0],a})},function(a){return d[59]=d[62]}])},function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,1739999037]),f).then(function(a){return d[61]=a})},function(a){return d[57]=d[61]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,4001]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[59]=a[0],a})},function(a){return c.i64.eq(d[59],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),f).then(function(a){return d[63]=a})},function(a){return d[60]=d[63]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[63]=a[0],a})},function(a){return d[60]=d[63]}])},function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[61]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,3373597599]),f).then(function(a){return d[62]=a})},function(a){return d[58]=d[62]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,4002]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.i64.eq(d[60],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),f).then(function(a){return d[64]=a})},function(a){return d[61]=d[64]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[64]=a[0],a})},function(a){return d[61]=d[64]}])},function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[62]=a[0],a})},function(a){return c.i64.eq(d[62],d[3])?c.seq([function(a){return d[64]=c.createArray(),d[66]=(d[64].push(d[61]),d[64]),c.localizeV2Async(c.i64.cast([0,259473449]),d[64]).then(function(a){return d[65]=a})},function(a){return d[63]=d[65]}]):c.seq([function(a){return d[64]=c.createArray(),d[66]=(d[64].push(d[61]),d[64]),c.localizeV2Async(c.i64.cast([0,1338912959]),d[64]).then(function(a){return d[65]=a})},function(a){return d[63]=d[65]}])},function(a){return d[59]=d[63]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,4003]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[61]=a[0],a})},function(a){return c.i64.eq(d[61],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),f).then(function(a){return d[65]=a})},function(a){return d[62]=d[65]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[65]=a[0],a})},function(a){return d[62]=d[65]}])},function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[63]=a[0],a})},function(a){return c.i64.eq(d[63],d[3])?c.seq([function(a){return d[65]=c.createArray(),d[67]=(d[65].push(d[62]),d[65]),c.localizeV2Async(c.i64.cast([0,812940701]),d[65]).then(function(a){return d[66]=a})},function(a){return d[64]=d[66]}]):c.seq([function(a){return d[65]=c.createArray(),d[67]=(d[65].push(d[62]),d[65]),c.localizeV2Async(c.i64.cast([0,1099878966]),d[65]).then(function(a){return d[66]=a})},function(a){return d[64]=d[66]}])},function(a){return d[60]=d[64]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,4004]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[62]=a[0],a})},function(a){return c.i64.eq(d[62],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),f).then(function(a){return d[66]=a})},function(a){return d[63]=d[66]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[66]=a[0],a})},function(a){return d[63]=d[66]}])},function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[64]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,3443782102]),f).then(function(a){return d[65]=a})},function(a){return d[61]=d[65]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,4005]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[63]=a[0],a})},function(a){return c.i64.eq(d[63],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),f).then(function(a){return d[67]=a})},function(a){return d[64]=d[67]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[67]=a[0],a})},function(a){return d[64]=d[67]}])},function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[65]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,618905030]),f).then(function(a){return d[66]=a})},function(a){return d[62]=d[66]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,4006]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[64]=a[0],a})},function(a){return c.i64.eq(d[64],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),f).then(function(a){return d[68]=a})},function(a){return d[65]=d[68]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[68]=a[0],a})},function(a){return d[65]=d[68]}])},function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[66]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,2470414797]),f).then(function(a){return d[67]=a})},function(a){return d[63]=d[67]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,4007]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[65]=a[0],a})},function(a){return c.i64.eq(d[65],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),f).then(function(a){return d[69]=a})},function(a){return d[66]=d[69]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[69]=a[0],a})},function(a){return d[66]=d[69]}])},function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[67]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,1306024833]),f).then(function(a){return d[68]=a})},function(a){return d[64]=d[68]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,5e3]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[66]=a[0],a})},function(a){return c.i64.eq(d[66],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2135145355]),f).then(function(a){return d[68]=a})},function(a){return d[67]=d[68]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[68]=a[0],a})},function(a){return d[69]=c.createArray(),d[71]=(d[69].push(d[68]),d[69]),c.localizeV2Async(c.i64.cast([0,3603511704]),d[69]).then(function(a){return d[70]=a})},function(a){return d[67]=d[70]}])},function(a){return d[65]=d[67]}]):c.seq([function(a){return c.i64.eq(d[23],c.i64.cast([0,6e3]))?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[67]=a[0],a})},function(a){return c.i64.eq(d[67],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),f).then(function(a){return d[69]=a})},function(a){return d[68]=d[69]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[69]=a[0],a})},function(a){return d[70]=c.createArray(),d[72]=(d[70].push(d[69]),d[70]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[70]).then(function(a){return d[71]=a})},function(a){return d[68]=d[71]}])},function(a){return d[66]=d[68]}]):c.resolve(d[66]=f)},function(a){return d[65]=d[66]}])},function(a){return d[64]=d[65]}])},function(a){return d[63]=d[64]}])},function(a){return d[62]=d[63]}])},function(a){return d[61]=d[62]}])},function(a){return d[60]=d[61]}])},function(a){return d[59]=d[60]}])},function(a){return d[58]=d[59]}])},function(a){return d[57]=d[58]}])},function(a){return d[56]=d[57]}])},function(a){return d[55]=d[56]}])},function(a){return d[54]=d[55]}])},function(a){return d[53]=d[54]}])},function(a){return d[52]=d[53]}])},function(a){return d[51]=d[52]}])},function(a){return d[50]=d[51]}])},function(a){return d[49]=d[50]}])},function(a){return d[48]=d[49]}])},function(a){return d[47]=d[48]}])},function(a){return d[46]=d[47]}])},function(a){return d[45]=d[46]}])},function(a){return d[44]=d[45]}])},function(a){return d[43]=d[44]}])},function(a){return d[42]=d[43]}])},function(a){return d[41]=d[42]}])},function(a){return d[40]=d[41]}])},function(a){return d[39]=d[40]}])},function(a){return d[38]=d[39]}])},function(a){return d[37]=d[38]}])},function(a){return d[36]=d[37]}])},function(a){return d[35]=d[36]}])},function(a){return d[34]=d[35]}])},function(a){return d[33]=d[34]}])},function(a){return d[32]=d[33]}])},function(a){return d[31]=d[32]}])},function(a){return d[30]=d[31]}])},function(a){return d[29]=d[30]}])},function(a){return d[28]=d[29]}])},function(a){return d[24]=d[28]}]):c.resolve(d[24]=f)},function(a){return d[22]===f&&c.i64.eq(d[17],c.i64.cast([0,7]))&&d[24]!==f?d[22]=d[24]:0,c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[25]=a[0],a})},function(a){return c.i64.eq(d[25],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),f).then(function(a){return d[27]=a})},function(a){return d[26]=d[27]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[27]=a[0],a})},function(a){return d[28]=c.createArray(),d[30]=(d[28].push(d[27]),d[28]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[28]).then(function(a){return d[29]=a})},function(a){return d[26]=d[29]}])},function(a){return d[16]=d[22]==null?d[26]:d[22]}]):c.seq([function(a){return d[17]=!0,c.fe(c.ftr(c.db.table(16).fetch([[[d[4],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),d[7])&&a.messageId===d[8]}),function(a){a=a.item;return c.i64.eq(a.attachmentType,c.i64.cast([0,2]))?0:d[17]=!1})},function(a){return d[17]?c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[19]=a[0],a})},function(a){return c.i64.eq(d[19],d[3])?c.seq([function(a){return d[21]=c.createArray(),d[23]=(d[21].push(d[14]),d[21]),c.localizeV2Async(c.i64.cast([0,705614308]),d[21]).then(function(a){return d[22]=a})},function(a){return d[20]=d[22]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[22]=c.createArray(),d[24]=(d[22].push(d[21]),d[22]),d[24]=(d[22].push(d[14]),d[22]),c.localizeV2Async(c.i64.cast([0,313217698]),d[22]).then(function(a){return d[23]=a})},function(a){return d[20]=d[23]}])},function(a){return d[18]=d[20]}]):c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[19]=a[0],a})},function(a){return c.i64.eq(d[19],d[3])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,3558654267]),f).then(function(a){return d[21]=a})},function(a){return d[20]=d[21]}]):c.seq([function(a){return c.sp(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[22]=c.createArray(),d[24]=(d[22].push(d[21]),d[22]),c.localizeV2Async(c.i64.cast([0,3422266740]),d[22]).then(function(a){return d[23]=a})},function(a){return d[20]=d[23]}])},function(a){return d[18]=d[20]}])},function(a){return d[16]=d[18]}])},function(a){return d[15]=d[16]}])},function(a){return d[13]=d[15]}])},function(a){return d[12]=d[13]}])},function(a){return d[11]=d[12]}])},function(a){return d[10]=d[11]}])},function(a){return d[9]=d[10]}])},function(a){return d[1]=d[9]}])},function(e){return c.sp(b("LSUpdateThreadSnippet"),a[0],d[1],d[2],d[3],c.like(d[1],"%\udb80\udc00%"),f,f,!1)}]))})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateThreadSnippetFromLastMessage",["LSGetThreadParticipantDisplayName","LSUpdateThreadSnippetFromLastMessageV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=!0,d[0]&&!a[11]?c.seq([function(d){return c.sp(b("LSUpdateThreadSnippetFromLastMessageV2"),a[1])},function(a){return d[1]=!1}]):c.resolve(d[1]=!0)},function(e){return d[1]?c.db.table(12).fetchDesc([[[a[1]]]]).next().then(function(e,g){var h=e.done;e=e.value;return h?c.fe(c.db.table(9).fetch([[[a[1]]]]),function(a){var b=a.update;a.item;return b({snippet:f,snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f,isAdminSnippet:!1,snippetSenderContactId:f})}):(g=e.item,c.seq([function(b){return d[5]=g.text,d[8]=g.threadKey,d[9]=c.i64.cast([0,0]),d[10]=g.messageId,d[12]=g.senderId,d[6]=g.stickerId,d[11]=g.isAdminMessage,d[7]=g.isUnsent,c.ct(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(a[1],b.threadKey)&&c.i64.eq(c.i64.cast([0,2]),b.threadType)})).then(function(a){return d[3]=a})},function(b){return d[11]?c.resolve(d[4]=c.i64.cast([0,9])):c.seq([function(b){return c.i64.eq(d[12],a[0])?c.seq([function(a){return d[7]?c.resolve(d[14]=c.i64.cast([0,3])):c.seq([function(a){return d[5]!==f&&d[5]!==""?c.resolve(d[15]=c.i64.cast([0,0])):c.seq([function(a){return c.i64.neq(d[6],f)?c.resolve(d[16]=c.i64.cast([0,2])):c.seq([function(a){return c.ftr(c.db.table(16).fetch([[[d[8],d[10]]]]),function(a){return c.i64.eq(a.threadKey,d[8])&&c.i64.eq(c.i64.cast([0,0]),d[9])&&a.messageId===d[10]}).next().then(function(b,e){var a=b.done;b=b.value;return a?d[17]=c.i64.cast([0,1]):(e=b.item,c.i64.eq(e.attachmentType,c.i64.cast([0,2]))?d[19]=c.i64.cast([0,10]):d[19]=c.i64.cast([0,1]),d[17]=d[19])})},function(a){return d[16]=d[17]}])},function(a){return d[15]=d[16]}])},function(a){return d[14]=d[15]}])},function(a){return d[13]=d[14]}]):c.seq([function(a){return d[7]?c.resolve(d[14]=c.i64.cast([0,8])):c.seq([function(a){return d[5]!==f&&d[5]!==""?c.resolve((c.i64.eq(d[3],c.i64.cast([0,1]))?d[16]=c.i64.cast([0,5]):d[16]=c.i64.cast([0,4]),d[15]=d[16])):c.seq([function(a){return c.i64.neq(d[6],f)?c.resolve(d[16]=c.i64.cast([0,7])):c.seq([function(a){return c.ftr(c.db.table(16).fetch([[[d[8],d[10]]]]),function(a){return c.i64.eq(a.threadKey,d[8])&&c.i64.eq(c.i64.cast([0,0]),d[9])&&a.messageId===d[10]}).next().then(function(b,e){var a=b.done;b=b.value;return a?d[17]=c.i64.cast([0,6]):(e=b.item,c.i64.eq(e.attachmentType,c.i64.cast([0,2]))?d[19]=c.i64.cast([0,11]):d[19]=c.i64.cast([0,6]),d[17]=d[19])})},function(a){return d[16]=d[17]}])},function(a){return d[15]=d[16]}])},function(a){return d[14]=d[15]}])},function(a){return d[13]=d[14]}])},function(a){return d[4]=d[13]}])},function(e){return c.i64.eq(d[4],c.i64.cast([0,0]))?(d[14]=d[5]===""?f:d[5],d[14]!==f?d[13]=[a[2],": ",d[14]].join(""):d[13]=f,c.fe(c.db.table(9).fetch([[[a[1]]]]),function(a){var b=a.update;a.item;return b({snippet:d[13],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f,isAdminSnippet:d[11],snippetSenderContactId:d[12]})})):c.i64.eq(d[4],c.i64.cast([0,1]))?c.fe(c.db.table(9).fetch([[[a[1]]]]),function(b){var c=b.update;b.item;return c({snippet:a[5],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f,isAdminSnippet:d[11],snippetSenderContactId:d[12]})}):c.i64.eq(d[4],c.i64.cast([0,10]))?c.fe(c.db.table(9).fetch([[[a[1]]]]),function(b){var c=b.update;b.item;return c({snippet:a[7],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f,isAdminSnippet:d[11],snippetSenderContactId:d[12]})}):c.i64.eq(d[4],c.i64.cast([0,2]))?c.fe(c.db.table(9).fetch([[[a[1]]]]),function(b){var c=b.update;b.item;return c({snippet:a[3],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f,isAdminSnippet:d[11],snippetSenderContactId:d[12]})}):c.i64.eq(d[4],c.i64.cast([0,3]))?c.fe(c.db.table(9).fetch([[[a[1]]]]),function(b){var c=b.update;b.item;return c({snippet:a[9],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f,isAdminSnippet:d[11],snippetSenderContactId:d[12]})}):c.i64.eq(d[4],c.i64.cast([0,4]))?c.fe(c.db.table(9).fetch([[[a[1]]]]),function(a){var b=a.update;a.item;return b({snippet:d[5],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f,isAdminSnippet:d[11],snippetSenderContactId:d[12]})}):c.i64.eq(d[4],c.i64.cast([0,5]))?c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[1],d[12]).then(function(a){return a=a,d[13]=a[0],a})},function(b){return d[15]=d[5]===""?f:d[5],d[15]!==f?d[14]=[d[13],": ",d[15]].join(""):d[14]=f,c.fe(c.db.table(9).fetch([[[a[1]]]]),function(a){var b=a.update;a.item;return b({snippet:d[14],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f,isAdminSnippet:d[11],snippetSenderContactId:d[12]})})}]):c.i64.eq(d[4],c.i64.cast([0,6]))?c.fe(c.db.table(9).fetch([[[a[1]]]]),function(b){var c=b.update;b.item;return c({snippet:a[6],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f,isAdminSnippet:d[11],snippetSenderContactId:d[12]})}):c.i64.eq(d[4],c.i64.cast([0,11]))?c.fe(c.db.table(9).fetch([[[a[1]]]]),function(b){var c=b.update;b.item;return c({snippet:a[8],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f,isAdminSnippet:d[11],snippetSenderContactId:d[12]})}):c.i64.eq(d[4],c.i64.cast([0,7]))?c.fe(c.db.table(9).fetch([[[a[1]]]]),function(b){var c=b.update;b.item;return c({snippet:a[4],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f,isAdminSnippet:d[11],snippetSenderContactId:d[12]})}):c.i64.eq(d[4],c.i64.cast([0,8]))?c.fe(c.db.table(9).fetch([[[a[1]]]]),function(b){var c=b.update;b.item;return c({snippet:a[10],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f,isAdminSnippet:d[11],snippetSenderContactId:d[12]})}):c.i64.eq(d[4],c.i64.cast([0,9]))?c.fe(c.db.table(9).fetch([[[a[1]]]]),function(a){var b=a.update;a.item;return b({snippet:d[5],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f,isAdminSnippet:d[11],snippetSenderContactId:d[12]})}):c.resolve(0)}]))}):c.resolve()}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateUnsentMessageCollapsedStatus",["LSCollapseAttachments"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(16).fetch([[[a[0],a[2],a[1]]],"fk_messages"]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]&&c.i64.eq(b.timestampMs,a[2])&&c.i64.neq(b.collapsibleId,f)}).next().then(function(e,g){var h=e.done;e=e.value;return h?0:(g=e.item,c.seq([function(b){return d[0]=g.collapsibleId,c.fe(c.db.table(16).fetch([[[a[0],a[2],a[1]]],"fk_messages"]),function(a){var b=a.update;a.item;return b({collapsibleId:f})})},function(e){return c.i64.neq(d[0],f)?c.sp(b("LSCollapseAttachments"),a[0],d[0]):c.resolve()}]))})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);